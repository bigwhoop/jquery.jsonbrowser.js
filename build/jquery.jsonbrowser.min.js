/*! jquery.jsonbrowser.js v1.0.0 (2013-07-18) | http://github.com/bigwhoop/jquery.jsonbrowser.js | MIT License */
$.jsonbrowser={collapsibleClass:"collapsible",collapsedClass:"collapsed",collapseAll:function(a){var b=$(a);b.find("."+this.collapsibleClass+" > ul").addClass(this.collapsedClass)},expandAll:function(a){var b=$(a);b.find("."+this.collapsibleClass+" > ul").removeClass(this.collapsedClass)},showAll:function(a){var b=$(a);b.find("li").show()},hideAll:function(a){var b=$(a);b.find("li").hide()},search:function(a,b){if($.jsonbrowser.showAll(a),"string"==typeof b&&0!=b.length){b=b.toLocaleLowerCase();var c=$(a),d=function(a,b,c){b.length!=c&&(a.find("> ul > li").each(function(){var a=b[c],e=$(this);"*"==a||e.find("> .key").text().toLocaleLowerCase().indexOf(a)>-1?d(e,b,c+1):e.hide()}),0==a.find("> ul > li:visible").length&&a.parents("li").hide())};if(0==b.indexOf(".")){var e=b.split(".").filter(function(a){return""!=a});return d(c,e,0),void 0}$.jsonbrowser.hideAll(a);var f=function(){return $(this).text().toLocaleLowerCase().indexOf(b)>-1};c.find(".value").filter(f).parents("li").show()}}},$.fn.jsonbrowser=function(a,b){function c(a,b){var d=$("<ul></ul>");for(var f in b){var g='<span class="key">'+f+":</span>",h=b[f],i=$("<li></li>");if("object"==typeof h)null===h?i.append(g+' <span class="value empty-value">null</span>'):$.isArray(h)&&!h.length?i.append(g+' <span class="value empty-value">[]</span>'):0==Object.keys(h).length?i.append(g+' <span class="value empty-value">{}</span>'):(i.append(g+" "+($.isArray(h)?"[":"{")),c(i,h),i.append($.isArray(h)?"]":"}"),e.collapsible&&(i.addClass($.jsonbrowser.collapsibleClass),i.on("click","> .key",function(){$(this).parent().children("ul").toggleClass($.jsonbrowser.collapsedClass)}),e.collapsed&&i.children("ul").addClass($.jsonbrowser.collapsedClass)));else{var j=$('<span class="value"></span>');if("boolean"==typeof h)h?j.text("true"):j.addClass("empty-value").text("false");else if("number"==typeof h)0===h?j.addClass("empty-value").text("0"):j.text(h);else{var k=$("<div>").text(h).html();""===k?j.addClass("empty-value").text('""'):(e.parseURLs&&(0===k.indexOf("http://")||0===k.indexOf("https://")?k=$('<a href="'+k+'" target="_blank">'+k+"</a>"):0===k.indexOf("//")&&(k=$('<a href="'+e.scheme+":"+k+'" target="_blank">'+k+"</a>"))),"string"==typeof k&&(k='"'+k+'"'),j.html(k))}i.append(g+" "),i.append(j)}i.append(","),d.append(i)}a.append(d)}var d={scheme:"http",parseURLs:!0,collapsible:!0,collapsed:!1},e=$.extend(d,b),f="";if("string"==typeof a)try{a=JSON.parse(a)}catch(g){f="Failed to parse JSON: "+g}else"object"!=typeof a&&(f="Expected an object or string. Got neither.");return this.each(function(){var b=$(this);b.empty(),f?b.html(f):c(b,a)})};